<html>
<head>
<title>fit3036_model</title>
<style type="text/css">
<!--
/*
    This style sheet is borrowed from the NetLogo User Manual.  However, some of the units were
    changed from em to px because Java's StyleSheet support is limited for relative units such as
    em and % (this will supposively improve with newer versions of the VM) - jrn 7/21/05
    BE VERY VERY CAREFUL when you alter this style sheet -- it's possible to put in
    innocent-looking things that work on some VM's but cause Java exceptions on other for example
    we were using "font-size: 125%" but it caused Java exceptions on Java 1.5 on Windows - ST
    8/25/05
*/
:link { color: rgb(110,0,110); }
:visited { color: rgb(110,0,110); }
body {
    margin-left: 5px;
    font-family: arial, sans-serif;
    background: white;
    font-size: 12pt
}
h1 {
    color: white;
    background: rgb(45,0,45);
    font-size: 18pt;
    margin-bottom: 4px;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h2 {
    margin-top: 15px;
    margin-left: 6px;
    margin-bottom: 4px;
    background: rgb(166,172,255);
    font-size: 15pt;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h3 {
    margin-top: 15px;
    margin-left: 13px;
    margin-bottom: 4px;
    background: rgb(175,175,175);
    font-size: 12pt;
    padding: 0.2em;
    padding-left: 6px;
    padding-right: 6px;
    padding-top: 6px;
    padding-bottom: 6px;
}
h4 {
    margin-top: 15px;
    margin-bottom: 5px;
    margin-left: 15px;
    font-size: 12pt;
}
h5 {
    margin-top: 15px;
    margin-left: 15px;
    font-size: 12pt;
}
h6 {
    margin-top: 15px;
    margin-left: 15px;
    font-size: 12pt;
}
p {
    margin-left: 15px;
    margin-bottom: 3px;
}
pre {
    margin-left: 13px;
    background: rgb(225,225,225);
    font-family: monospace;
    font-size: 12pt;
    padding-left: 10px;
    padding-right: 3px;
    padding-top: 7px;
    padding-bottom: 7px;
    margin-top:9px;
    margin-bottom:0px;
}
code {
    font-family: monospace;
    font-size: 12pt;
}
blockquote {
    border: solid;
    border-style: solid;
    border-width: thin;
    border-color: black;
    background: rgb(250,250,220);
    padding-top: 0px;
    padding-bottom: 7px;
    margin-top: 7px;
    margin-bottom:1px;
}
ol {
   margin-bottom:1px;
}
ul {
   margin-bottom:1px;
}

-->
</style>
</head>
<body>

<p>This page was automatically generated by NetLogo 5.0.</p>

<p>The applet requires Java 5 or higher.
Java must be enabled in your browser settings.
Mac users must have Mac OS X 10.4 or higher.
Windows and Linux users may obtain the latest Java from
<a href="http://java.sun.com/getjava/download.html">Sun's Java site</a>.</p>

<p><hr>

<p><font size="-1">In order for this to work, this file, your model file
(fit3036_model.nlogo), and the file NetLogoLite.jar
must all be in the same directory.  (You can copy NetLogoLite.jar
from the directory where you installed NetLogo.)</font></p>

<p><font size="-1">On some systems, you can test the applet locally on your computer
before uploading it to a web server.  It doesn't work on all systems,
though, so if it doesn't work from your hard drive, please try
uploading it to a web server.</font></p>

<p><font size="-1">You don't need to include everything in this file in your page.
If you want, you can just take the HTML code beginning with
&lt;applet&gt; and ending with &lt;/applet&gt;, and paste it into any HTML
file you want.  It's even OK to put multiple &lt;applet&gt; tags
on a single page.</font></p>

<p><font size="-1">If NetLogoLite.jar and your model are in different
directories, you must modify the archive= and value= lines
in the HTML code to point to their actual locations.
(For example, if you have multiple applets in different
directories on the same web server, you may want to put 
a single copy of NetLogoLite.jar in one central place and
change the archive= lines of all the HTML files to point
to that one central copy.  This will save disk space for
you and download time for your users.)</font></p>

<p>
<applet code="org.nlogo.lite.Applet"
        archive="NetLogoLite.jar"
        width="1134" height="692">
  <param name="DefaultModel"
         value="fit3036_model.nlogo">
  <param name="java_arguments"
         value="-Djnlp.packEnabled=true">
</applet>
</p>

<p>powered by
<a target="_blank" href="http://ccl.northwestern.edu/netlogo/">NetLogo</a></p>

<p>view/download model file:
<a href="fit3036_model.nlogo">fit3036_model.nlogo</a></p>
<h2>WHAT IS IT?</h2><p>This model examines the effectivness of different bee foraging techniques and whether given certain conditions and a change in situation, which strategies can prove to be more effective.</p><p>NB: The use of &lsquo;plant&rsquo; and &lsquo;flower&rsquo; are used interchangably throughout this document and mean the same thing.</p><h2>HOW IT WORKS</h2><p>This model has 2 main phases:</p><p>In the first phase, all the bees are under the &ldquo;normal&rdquo; strategy where they fly around randomly looking for flowers. Each plant on the field contains 3-5 flowers and each plant contains flowers of type T1 or T2 denoted by their different colours. Each flower has a percentage to reward a bee a nutrient based on the parameters you set. Each bee has a preference to a flower plant type based on the parameters you set. Bees can fly over a flower and based on their preference for that flower type can decide to land on it or not. Bees that do decide to land on a flower attempt harvesting its nutrients and if successful gain a +1% to that flower preference while a -1% for the other flower type and vice versa if they fail. Bees that decide to land on flowers remember what flowers they have visited and will not visit them again on the same bout until they return back to the hive.</p><p>The second phase takes place when the selected switch-time in ticks has elapsed. In the second phase, all bees drop the &ldquo;normal&rdquo; strategy and adopt the chosen after-half-day-strategy; &ldquo;All Switch&rdquo;, &ldquo;All Learn&rdquo;, &ldquo;All Stay&rdquo; and &ldquo;Even Split Bet Hedging&rdquo;. The outine of strategies are below: </p>
<ul>
  <li>Switch: Bees that encounter 4 rewarding flowers and 4 non-rewarding flowers then switch to the rewarding flower type.</li>
  <li>Learn: Bees learn like they have been on the &ldquo;normal&rdquo; strategy with +1%/-1% for a rewarding/non-rewarding flower.</li>
  <li>Stay: Bees that reach above 70% for a particular flower type cannot drop below that even if it becomes non-rewarding. Note that their flower preference stays from the first phase.</li>
  <li>Even split: There is an even distribution of the above strategies to bees.</li>
</ul><p>Though the model can be stopped any time, once the hive reaches 200,000 units of nutrients the model will stop.</p><h2>HOW TO USE IT</h2>
<ol>
  <li>Adjust the slider parameters (see below), or use the default settings.</li>
  <li>Choose the desired half day scenario and click Setup model.</li>
  <li>Press Go.</li>
</ol><p>Parameters:</p>
<ul>
  <li>NUMBER-OF-BEES: The number of bees that are in the model.</li>
  <li>MAX-NUTRITION-FOR-BEES: Max nutrition for bees before returning back to hive</li>
  <li>PLANT-DENSITY: The occurence of plants in the model.</li>
  <li>T1-VS-T2-DISTRIBUTION: The percentage of T1 plants.</li>
  <li>AFTER-HALF-DAY-SCENARIO: Model scenario that takes place after SWITCH-TIME</li>
  <li>SWITCH-TIME: The number of ticks until the AFTER-HALF-DAY-SCENARIO takes place.</li>
  <li>HIVE-SATURATION: Maximum number of nutrients hive can contain.</li>
  <li>INITIAL-T1-PREF: The starting preference percentage for T1 flowers for the bees.</li>
  <li>INITIAL-T2-PREF: The starting preference percentage for T2 flowers for the bees.</li>
  <li>DEBUG-MODE: Toggles command center print statements on or off.</li>
</ul><p>Notes:<br/>- It is a good idea to keep initial-t1-pref and initial-t2-pref in balance (summing to 100%) although not doing so would not have adverse effects.<br/>- It is a good idea to keep t1-reward-chance and t2-reward-chance in balance (summing to 100%) although not doing so would not have adverse effects.<br/>- DEBUG-MODE is -EXTREMELY- processor dependent as it will print thousands of console statements. Only have it on for debugging purposes as it will slow down the model considerably.</p><h2>THINGS TO NOTICE</h2>
<ul>
  <li>Bees take some take attempting to harvest a flower for nutrients and this is reflected in the model. Under the normal update speed or slower, it is possible to see bees that land on a flower and attempt to harvest it stay there for a bit before flying off and continuing their bout.</li>
</ul><h2>THINGS TO TRY</h2>
<ul>
  <li>The &ldquo;stay&rdquo; strategy only affects bees who have developed a 70% preference to a flower type. Try adjusting the switch-time slider to a low value (100-1000) and choose the even-split scenario, preventing bees to develop a &gt;70% for a flower type before the switch in flower preference occurs.</li>
</ul><h2>EXTENDING THE MODEL</h2><p>Simulation design (2012) suggests multiple cues can be used by the bees to assist their flower detection such as vision and olfactiom, of which neither are part of this model, rather than just random flying. These would make the model more closely resemble a real world scenario.</p><h2>RELATED MODELS</h2><p>See the &ldquo;Ants&rdquo; and &ldquo;Termites&rdquo; models in the NetLogo models library for similar behavioural models.</p><h2>NETLOGO FEATURES</h2><p>The model imports and uses the &lsquo;bitmap&rsquo; library to display the hive in the center. As a result however, scaling the model bigger or smaller will place the hive graphic in the wrong position but still keeping the actual hive position in the center.</p><h2>SEE</h2><p>The included test report analyses this model&rsquo;s accuracy to the description.<br/>The included report analyses the findings presented by this model.</p><h2>CREDITS AND REFERENCES</h2><p>Model concept: Simulation design by A.G. Dyer, A. Dorin and K.B. Korb (2012)<br/>Authored by: Michael Hieu Nguyen (2012) <a href="mailto:&#109;h&#x6e;&#x67;u&#49;&#x30;&#x40;&#115;&#116;&#117;&#100;&#101;&#x6e;&#x74;&#46;&#109;&#111;&#110;&#x61;&#115;&#104;&#46;&#x65;&#100;&#117;">&#109;h&#x6e;&#x67;u&#49;&#x30;&#x40;&#115;&#116;&#117;&#100;&#101;&#x6e;&#x74;&#46;&#109;&#111;&#110;&#x61;&#115;&#104;&#46;&#x65;&#100;&#117;</a> 22042962<br/>For the purposes of FIT3036 Computer Science Project in completion of the Bachelor of Science, Monash University Australia.</p>

<h1>CODE</h1>
<pre><font color="#5a5a5a">;; This software is the original work of Michael Hieu Nguyen. ID: 22042962</font><font color="#000000">
</font><font color="#5a5a5a">;; This software is submitted in partial fulfillment of the </font><font color="#000000">
</font><font color="#5a5a5a">;; requirements for the degree of Bachelor of Science, </font><font color="#000000">
</font><font color="#5a5a5a">;; Monash University</font><font color="#000000">

</font><font color="#007f69">globals</font><font color="#000000"> </font><font color="#5a5a5a">;; global variables</font><font color="#000000">
[
  hive-nutrition </font><font color="#5a5a5a">;; amount of nutrition the hive currently has</font><font color="#000000">
  ticks-to-harvest </font><font color="#5a5a5a">;; number of ticks it takes for a bee to stay on a flower to harvest nutrients</font><font color="#000000">
  hive-saturation </font><font color="#5a5a5a">;; max saturation of nutrients for hive</font><font color="#000000">
]

</font><font color="#007f69">turtles-own</font><font color="#000000"> </font><font color="#5a5a5a">;; variables for bees</font><font color="#000000">
[
  t1pref </font><font color="#5a5a5a">;; preference for t1 plants (0 &lt;= t1pref &gt;= 100)</font><font color="#000000">
  t2pref </font><font color="#5a5a5a">;; preference for t2 plants (0 &lt;= t2pref &gt;= 100)</font><font color="#000000">
  current-nutrition  </font><font color="#5a5a5a">;; current amount of nutrition bee is holding</font><font color="#000000">
  harvesting? </font><font color="#5a5a5a">;; boolean to state whether the bee is currently foraging</font><font color="#000000">
  start-harvest-time </font><font color="#5a5a5a">;; variable to store time (tick) when they start foraging</font><font color="#000000">
  returning-hive? </font><font color="#5a5a5a">;; if bee is returning home</font><font color="#000000">
  past-flowers </font><font color="#5a5a5a">;; past flowers</font><font color="#000000">
  strategy </font><font color="#5a5a5a">;; string for strategy</font><font color="#000000">
  total-collected </font><font color="#5a5a5a">;; total nutrients bee has returned to hive</font><font color="#000000">
  past-flowers-success-type </font><font color="#5a5a5a">;; list of past successful flower types</font><font color="#000000">
  past-flowers-failure-type </font><font color="#5a5a5a">;; list of past failed flower types</font><font color="#000000">
]

</font><font color="#007f69">patches-own</font><font color="#000000"> </font><font color="#5a5a5a">;; variables for plants</font><font color="#000000">
[
  hive? </font><font color="#5a5a5a">;; Boolean to represent if patch is the hive (only true on px/ycor 0 0)</font><font color="#000000">
  plant? </font><font color="#5a5a5a">;; Boolean to represent if the patch is a plant</font><font color="#000000">
  flower-type </font><font color="#5a5a5a">;; Type of the plant and its flowers (T1/T2)</font><font color="#000000">
  number-of-flowers </font><font color="#5a5a5a">;; Number of flowers on this plant</font><font color="#000000">
  full? </font><font color="#5a5a5a">;; Max number of bees on this flower (might delete)</font><font color="#000000">
  reward-chance </font><font color="#5a5a5a">;; Chance this plant and its flowers can reward bee</font><font color="#000000">
]

</font><font color="#007f69">to</font><font color="#000000"> setup </font><font color="#5a5a5a">;; initial method run when 'setup model' button is clicked</font><font color="#000000">
  </font><font color="#0000aa">clear-all</font><font color="#000000"> </font><font color="#5a5a5a">;; Clear everything for a new start</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> debug-mode [ </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;Starting new model...&quot;</font><font color="#000000"> ]
  </font><font color="#0000aa">set</font><font color="#000000"> hive-saturation </font><font color="#963700">30000</font><font color="#000000">
   
  </font><font color="#0000aa">set-default-shape</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#963700">&quot;butterfly&quot;</font><font color="#000000"> </font><font color="#5a5a5a">;; make the bees use the &quot;butterfly&quot; graphic default in netlogo</font><font color="#000000">
  setup-bees </font><font color="#5a5a5a">;; setup the bees</font><font color="#000000">
  setup-field </font><font color="#5a5a5a">;; setup the area</font><font color="#000000">
  setup-plants </font><font color="#5a5a5a">;; setup the patches</font><font color="#000000">
  </font><font color="#0000aa">reset-ticks</font><font color="#000000"> </font><font color="#5a5a5a">;; reset all ticks</font><font color="#000000">

  </font><font color="#0000aa">if</font><font color="#000000"> debug-mode 
  [ 
    </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;Setup complete.&quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;Final parameters: &quot;</font><font color="#000000">
    </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;Plant density: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> plant-density
    </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;T1's initial rewarding chance: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> initial-t1-pref
    </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;T2's initial rewarding chance: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> initial-t2-pref
    </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;Time to switch rewards/strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> switch-time
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup-bees </font><font color="#5a5a5a">;; setup all bees</font><font color="#000000">
  </font><font color="#0000aa">create-turtles</font><font color="#000000"> number-of-bees </font><font color="#5a5a5a">;; create number of bees based on parameter slider </font><font color="#000000">
  [ 
    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; make them all start in the centre (hive)</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000">  </font><font color="#5a5a5a">;; the bees are yellw</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> t1pref initial-t1-pref </font><font color="#5a5a5a">;; set their flower preferences</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> t2pref initial-t2-pref
    </font><font color="#0000aa">set</font><font color="#000000"> current-nutrition </font><font color="#963700">0</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> ticks-to-harvest </font><font color="#963700">5</font><font color="#000000"> </font><font color="#5a5a5a">;; time in ticks it takes for bee to harvest nutrient from flower</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> harvesting? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#5a5a5a">;; boolean to check if the bee is currently in the start of harvesting a flower</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> start-harvest-time </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; time in ticks when the bee starts harvesting</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> returning-hive? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#5a5a5a">;; boolean: if bee is in progress of returning to hive</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> past-flowers [] </font><font color="#5a5a5a">;; list to keep track of all bees past flowers it's landed on</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> strategy </font><font color="#963700">&quot;normal&quot;</font><font color="#000000"> </font><font color="#5a5a5a">;; strategy bee starts off with</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> total-collected </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; obviously starts off with 0 nutrients</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> past-flowers-success-type [] </font><font color="#5a5a5a">;; separate list to keep track of its success flower types</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> past-flowers-failure-type [] </font><font color="#5a5a5a">;; same but for failure</font><font color="#000000">
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup-field </font><font color="#5a5a5a">;; setup the world grid</font><font color="#000000">
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#5a5a5a">;; ask all patches</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#5a5a5a">;; make them green (represent the grass - nonfactor in model)</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> plant? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#5a5a5a">;; set it by default as not a flower</font><font color="#000000">
    setup-hive </font><font color="#5a5a5a">;; setup the hive </font><font color="#000000">
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup-plants </font><font color="#5a5a5a">;; method to setup all plants on field</font><font color="#000000">
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000"> </font><font color="#5a5a5a">;; ask every patch (1600 of them)</font><font color="#000000">
  [
    </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> plant-density </font><font color="#5a5a5a">;; generate a number between 0 and 100 and see if it's under density value %, ie: higher plant density = more plants</font><font color="#000000">
    [
      </font><font color="#0000aa">let</font><font color="#000000"> random-x </font><font color="#660096">random-pxcor</font><font color="#000000"> </font><font color="#5a5a5a">;; select a random patch to become a plant</font><font color="#000000">
      </font><font color="#0000aa">let</font><font color="#000000"> random-y </font><font color="#660096">random-pycor</font><font color="#000000"> </font><font color="#5a5a5a">;; select a random patch to become a plant </font><font color="#000000">
      
      </font><font color="#0000aa">while</font><font color="#000000"> [random-x </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">] [ </font><font color="#0000aa">set</font><font color="#000000"> random-x </font><font color="#660096">random-pxcor</font><font color="#000000"> ] </font><font color="#5a5a5a">;; remomve centre patch if it is chosen as a flower (reserved for hive)</font><font color="#000000">
      </font><font color="#0000aa">while</font><font color="#000000"> [random-y </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">] [ </font><font color="#0000aa">set</font><font color="#000000"> random-y </font><font color="#660096">random-pycor</font><font color="#000000"> ]
      
      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patch</font><font color="#000000"> random-x random-y </font><font color="#5a5a5a">;; ask a random patch to become a plant, that patch could be set a flower twice, overriding itself</font><font color="#000000">
      [
        </font><font color="#0000aa">set</font><font color="#000000"> plant? </font><font color="#963700">true</font><font color="#000000"> </font><font color="#5a5a5a">;; set boolean as being flower</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> full? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#5a5a5a">;; plant is not full of bees</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> number-of-flowers </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"> </font><font color="#5a5a5a">;; random number of flowers between 3 - 5</font><font color="#000000">
        
        </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">&lt;</font><font color="#000000"> T1-vs-T2-distribution  </font><font color="#5a5a5a">;; set flower type based on parameter</font><font color="#000000">
        [
          </font><font color="#0000aa">set</font><font color="#000000"> flower-type </font><font color="#963700">&quot;T1&quot;</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">orange</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> reward-chance t1-reward-chance </font><font color="#5a5a5a">;; set T1's reward chance based on parameter</font><font color="#000000">
        ]
        [
          </font><font color="#0000aa">set</font><font color="#000000"> flower-type </font><font color="#963700">&quot;T2&quot;</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">violet</font><font color="#000000"> </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
          </font><font color="#0000aa">set</font><font color="#000000"> reward-chance t2-reward-chance 
        ]
        
        </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
        [
          </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;Plant (pxcor, pycor): &quot;</font><font color="#000000"> 
          </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; )&quot;</font><font color="#000000">
          </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; is type: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> flower-type 
          </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; and has: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> number-of-flowers </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; flowers&quot;</font><font color="#000000">
          </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; with reward chance of: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> reward-chance </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">          
        ]
        
        </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">plabel</font><font color="#000000"> number-of-flowers </font><font color="#5a5a5a">;; label for number of flowers on each plant</font><font color="#000000">
      ]
    ]
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> setup-hive </font><font color="#5a5a5a">;; setup hive in centre</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> hive? (</font><font color="#660096">distancexy</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">) </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; set the middle patch to be the hive</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> hive-nutrition </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; set starting nutrition value collected of hive to be 0</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> hive?
  [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">pcolor</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000">]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> half-day-strategy </font><font color="#5a5a5a">;; method that is called from a turtle context in go method. used for changing all bee strategies at half day.</font><font color="#000000">
  </font><font color="#0000aa">while</font><font color="#000000"> [current-nutrition </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> ] </font><font color="#5a5a5a">;; while loop to teleport bees back to hive </font><font color="#000000">
  </font><font color="#5a5a5a">;; so they return all their nutrients. was too complicated making them 'fly' to hive. to make distinction between strategy nutrients from earlier phase.</font><font color="#000000">
  [
    return-hive
    return-nutrients-hive
  ]
  
  </font><font color="#0000aa">set</font><font color="#000000"> total-collected </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; reset this (total-collected not reset in return-hive) so that the plotting information is accurate for each strategy, remembering all previous total-collected was done under &quot;normal&quot;</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> returning-hive? </font><font color="#963700">false</font><font color="#000000">
  
  </font><font color="#5a5a5a">;; assign strategies based off what the selected scenario is</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> after-half-day-scenario </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;All Learn&quot;</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> strategy </font><font color="#963700">&quot;learn&quot;</font><font color="#000000"> 
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode [ </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; has now adopted strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> strategy ] 
  ]
  </font><font color="#0000aa">if</font><font color="#000000"> after-half-day-scenario </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;All Switch&quot;</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> strategy </font><font color="#963700">&quot;switch&quot;</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode [ </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; has now adopted strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> strategy ]
  ]
  </font><font color="#0000aa">if</font><font color="#000000"> after-half-day-scenario </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;All Stay&quot;</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> strategy </font><font color="#963700">&quot;stay&quot;</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode [ </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; has now adopted strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> strategy ]
  ]
  
  </font><font color="#0000aa">if</font><font color="#000000"> after-half-day-scenario </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;Even split bet hedging&quot;</font><font color="#000000">
  [
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode [ </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** Even split bet hedging chosen. Now evenly assigning different strategies to all bees **** &quot;</font><font color="#000000"> ]
    
    </font><font color="#0000aa">let</font><font color="#000000"> bee-id-split (</font><font color="#660096">who</font><font color="#000000"> </font><font color="#660096">mod</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000">) </font><font color="#5a5a5a">;; since increment of bees is in 3, can do an even split of strategy </font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> bee-id-split </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">
    [
      </font><font color="#0000aa">set</font><font color="#000000"> strategy </font><font color="#963700">&quot;stay&quot;</font><font color="#000000">
      </font><font color="#0000aa">if</font><font color="#000000"> debug-mode [ </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; has now adopted strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> strategy ]
    ]
    </font><font color="#0000aa">if</font><font color="#000000"> bee-id-split </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
    [
      </font><font color="#0000aa">set</font><font color="#000000"> strategy </font><font color="#963700">&quot;switch&quot;</font><font color="#000000">
      </font><font color="#0000aa">if</font><font color="#000000"> debug-mode [ </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; has now adopted strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> strategy ]
    ]
    </font><font color="#0000aa">if</font><font color="#000000"> bee-id-split </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">
    [
      </font><font color="#0000aa">set</font><font color="#000000"> strategy </font><font color="#963700">&quot;learn&quot;</font><font color="#000000"> 
      </font><font color="#0000aa">if</font><font color="#000000"> debug-mode [ </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; has now adopted strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> strategy ] 
    ]
  ]  
</font><font color="#007f69">end</font><font color="#000000">



</font><font color="#007f69">to</font><font color="#000000"> go </font><font color="#5a5a5a">;; Method that runs constantly</font><font color="#000000">
  refresh-flowers
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000">
  [   
    
    move-bees </font><font color="#5a5a5a">;; call move turtles command constantly</font><font color="#000000">
    
    </font><font color="#5a5a5a">;; condition: if the bees are currently holding as much as they can hold (or more due to some bug/skipping, return to hive</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> (current-nutrition </font><font color="#660096">&gt;=</font><font color="#000000"> max-nutrition-for-bees) 
    [
      return-hive
      return-nutrients-hive
    ]
    
    </font><font color="#5a5a5a">;; condition: once the half day has elapsed, change all bees to their respective strategies. &quot;normal&quot; strategy is their starting off one.</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> ((</font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">&gt;</font><font color="#000000"> switch-time) </font><font color="#660096">and</font><font color="#000000"> (strategy </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;normal&quot;</font><font color="#000000">))
    [
      
      </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
      [
      ]
      half-day-strategy 
    ]
    
    </font><font color="#5a5a5a">;; condition: if a bee has strategy &quot;switch&quot; and it has at least 4 successes and 4 failures, see what the history is and maybe learn off that</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> ((strategy </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;switch&quot;</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">length</font><font color="#000000"> past-flowers-success-type </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">) </font><font color="#660096">and</font><font color="#000000"> (</font><font color="#660096">length</font><font color="#000000"> past-flowers-failure-type </font><font color="#660096">&gt;=</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">))
    [
      switch-pref-strategy
    ]
  ] 
  
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> switch-time </font><font color="#5a5a5a">;; switch the reward chance of the flowers when half the day elapses</font><font color="#000000">
  [
    
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
    [
      </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** HALF DAY HAS PASSED. TICKS: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> switch-time </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; IS UP. **** &quot;</font><font color="#000000"> 
    ]
    
    switch-flower-reward-chance
    
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
    [
      </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** SELECTED HALF DAY SCENARIO FOR BEES: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> after-half-day-scenario </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;. **** &quot;</font><font color="#000000">
      </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;**** RETURNING ALL BEES TO HIVE AND SWITCHING STRATEGY FOR ALL BEES NOW **** &quot;</font><font color="#000000">
    ]
  ]  
  
  </font><font color="#0000aa">if</font><font color="#000000"> (hive-nutrition </font><font color="#660096">&gt;=</font><font color="#000000"> hive-saturation)
  [
    </font><font color="#0000aa">stop</font><font color="#000000">
  ]
  </font><font color="#0000aa">tick</font><font color="#000000">
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> switch-pref-strategy </font><font color="#5a5a5a">;; method for bees under &quot;switch&quot; strategy to switch flower if they find 4 success and 4 failures  </font><font color="#000000">
  </font><font color="#0000aa">let</font><font color="#000000"> num-success-t1 </font><font color="#660096">length</font><font color="#000000"> </font><font color="#660096">filter</font><font color="#000000"> [? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;T1&quot;</font><font color="#000000">] past-flowers-success-type
  </font><font color="#0000aa">let</font><font color="#000000"> num-success-t2 </font><font color="#660096">length</font><font color="#000000"> </font><font color="#660096">filter</font><font color="#000000"> [? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;T2&quot;</font><font color="#000000">] past-flowers-success-type
  </font><font color="#0000aa">let</font><font color="#000000"> num-failure-t1 </font><font color="#660096">length</font><font color="#000000"> </font><font color="#660096">filter</font><font color="#000000"> [? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;T1&quot;</font><font color="#000000">] past-flowers-failure-type
  </font><font color="#0000aa">let</font><font color="#000000"> num-failure-t2 </font><font color="#660096">length</font><font color="#000000"> </font><font color="#660096">filter</font><font color="#000000"> [? </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;T2&quot;</font><font color="#000000">] past-flowers-failure-type
  
  </font><font color="#0000aa">if</font><font color="#000000"> num-success-t1 </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> num-failure-t2 </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000">
  [
    </font><font color="#0000aa">if</font><font color="#000000"> t1pref </font><font color="#660096">&lt;</font><font color="#000000"> t2pref
    [
      </font><font color="#0000aa">let</font><font color="#000000"> temp t1pref
      </font><font color="#0000aa">set</font><font color="#000000"> t1pref t2pref
      </font><font color="#0000aa">set</font><font color="#000000"> t2pref temp
      </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
      [
        </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;^ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; learnt 4 successful T1s, 4 failed T2: Switching preference now...&quot;</font><font color="#000000">
        </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;^ New t1pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t1pref </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; New t2pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> t2pref
      ]
    ]
  ]
  
  </font><font color="#0000aa">if</font><font color="#000000"> num-success-t2 </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> num-failure-t1 </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000">
  [
    </font><font color="#0000aa">if</font><font color="#000000"> t2pref </font><font color="#660096">&lt;</font><font color="#000000"> t1pref
    [
      </font><font color="#0000aa">let</font><font color="#000000"> temp t1pref
      </font><font color="#0000aa">set</font><font color="#000000"> t1pref t2pref
      </font><font color="#0000aa">set</font><font color="#000000"> t2pref temp
      </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
      [
        </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;^ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; learnt 4 successful T2s, 4 failed T1: Switching preference now...&quot;</font><font color="#000000">
        </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;^ New t1pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t1pref </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; New t2pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> t2pref
      ]
    ]
  ]
  
  </font><font color="#0000aa">set</font><font color="#000000"> past-flowers-success-type []
  </font><font color="#0000aa">set</font><font color="#000000"> past-flowers-failure-type []
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> switch-flower-reward-chance </font><font color="#5a5a5a">;; method to switch the reward chance of t1 and t2 flowers</font><font color="#000000">
  </font><font color="#0000aa">let</font><font color="#000000"> temp t1-reward-chance </font><font color="#5a5a5a">;; temp variable to store, refers to global variables</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> t1-reward-chance t2-reward-chance
  </font><font color="#0000aa">set</font><font color="#000000"> t2-reward-chance temp
  
  </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
  [
    </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000">
    </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;**** Switching flower reward chance ****&quot;</font><font color="#000000"> 
    </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** T1 reward-chance was: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> temp </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;% T2 reward-chance was: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t1-reward-chance </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;% ****&quot;</font><font color="#000000"> </font><font color="#5a5a5a">;; Those variables are intentional</font><font color="#000000">
    </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;**** T1 reward-chance now: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t1-reward-chance </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;% T2 reward-chance now: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t2-reward-chance </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;% ****&quot;</font><font color="#000000">
  ]
  
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000">
  [
    </font><font color="#0000aa">ifelse</font><font color="#000000"> flower-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;T1&quot;</font><font color="#000000">
    [
      </font><font color="#0000aa">set</font><font color="#000000"> reward-chance t1-reward-chance
    ]
    [
      </font><font color="#0000aa">set</font><font color="#000000"> reward-chance t2-reward-chance
    ]
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> refresh-flowers </font><font color="#5a5a5a">;; method to update whether a flower is full so not allow any other bees to harvest from it</font><font color="#000000">
  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">patches</font><font color="#000000">
  [
    </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles-here</font><font color="#000000"> </font><font color="#660096">&lt;=</font><font color="#000000"> number-of-flowers
    [
      </font><font color="#0000aa">set</font><font color="#000000"> full? </font><font color="#963700">false</font><font color="#000000">
    ]
    [
      </font><font color="#0000aa">set</font><font color="#000000"> full? </font><font color="#963700">true</font><font color="#000000">
    ]
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> return-nutrients-hive </font><font color="#5a5a5a">;; method for transferring bee nutrient to hive</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> hive? </font><font color="#5a5a5a">;; add the bee's current nutrition to the hive and reset it</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> hive-nutrition hive-nutrition </font><font color="#660096">+</font><font color="#000000"> current-nutrition
    </font><font color="#0000aa">set</font><font color="#000000"> total-collected total-collected </font><font color="#660096">+</font><font color="#000000"> current-nutrition
    
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
      [ 
        </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;++ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; transferred &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> current-nutrition </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; nutrients to hive. Current hive total now: &quot;</font><font color="#000000">
        </font><font color="#0000aa">print</font><font color="#000000"> hive-nutrition
        </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Clearing Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; past flowers. Setting off to new bout...&quot;</font><font color="#000000">
      ]
    
    </font><font color="#0000aa">set</font><font color="#000000"> harvesting? </font><font color="#963700">false</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> start-harvest-time </font><font color="#963700">0</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> returning-hive? </font><font color="#963700">false</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> current-nutrition </font><font color="#963700">0</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> past-flowers []
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> return-hive </font><font color="#5a5a5a">;; method for bees to return back to hive, should be continually run from go</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> returning-hive? </font><font color="#5a5a5a">;; only prints once</font><font color="#000000">
    [
      </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
      [
        </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000">
        </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;+ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; returning to hive with &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> current-nutrition </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; nutrients.&quot;</font><font color="#000000">
      ]
    ]
  
  </font><font color="#0000aa">set</font><font color="#000000"> returning-hive? </font><font color="#963700">true</font><font color="#000000"> </font><font color="#5a5a5a">;; set boolean so this method only prints once</font><font color="#000000">
  </font><font color="#0000aa">right</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"> </font><font color="#5a5a5a">;; random degree from 0 to 360</font><font color="#000000">
  </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; head 1 unit in that direction, to simulate a more 'real' path and not straight to hive</font><font color="#000000">
  </font><font color="#0000aa">facexy</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; face the hive and go</font><font color="#000000">
  </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> </font><font color="#5a5a5a">;; 2 Movement speed is the extra speed they get when returning with full nutrition</font><font color="#000000">
  
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> move-bees </font><font color="#5a5a5a">;; Method for bees to fly </font><font color="#000000">
  </font><font color="#0000aa">let</font><font color="#000000"> already-been? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#5a5a5a">;; already-been is temp variable to determine if bee has already visited this flower before</font><font color="#000000">
  
  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label-color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> </font><font color="#5a5a5a">;; label for their nutrition </font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">label</font><font color="#000000"> current-nutrition </font><font color="#5a5a5a">;; red label next to them to show current nutrition</font><font color="#000000">
  
  </font><font color="#0000aa">let</font><font color="#000000"> flower-xy (</font><font color="#660096">list</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000">) </font><font color="#5a5a5a">;; make temporary value of the flower bee is on to check if it's already been</font><font color="#000000">
  
  </font><font color="#0000aa">foreach</font><font color="#000000"> past-flowers
  [
    </font><font color="#0000aa">if</font><font color="#000000"> flower-xy </font><font color="#660096">=</font><font color="#000000"> ?
      [
        </font><font color="#0000aa">set</font><font color="#000000"> already-been? </font><font color="#963700">true</font><font color="#000000">
      ]    
  ]
  
  </font><font color="#0000aa">if</font><font color="#000000"> (plant? </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> full? </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> already-been?) </font><font color="#5a5a5a">;; if you're on a flower and it's not completely full and you haven't alreayd been here</font><font color="#000000">
  [ 
    </font><font color="#0000aa">let</font><font color="#000000"> chance </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#5a5a5a">;; generate a temp number between 0 and 100 to see if you can land on the flower</font><font color="#000000">
    
    </font><font color="#0000aa">ifelse</font><font color="#000000"> flower-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;T1&quot;</font><font color="#000000">
    [
      </font><font color="#0000aa">ifelse</font><font color="#000000"> chance </font><font color="#660096">&lt;</font><font color="#000000"> t1pref </font><font color="#5a5a5a">;; if the number generated falls within the bees preference, harvest it</font><font color="#000000">
        [
          harvest-flower
        ]
        [ </font><font color="#5a5a5a">;; otherwise fly past it</font><font color="#000000">
          </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
          [
            </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; flew over but decided not to land on plant ( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; ) of type: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> flower-type
            </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
          ]
        ]
    ]
    [
      </font><font color="#0000aa">ifelse</font><font color="#000000"> chance </font><font color="#660096">&lt;</font><font color="#000000"> t2pref
        [
          </font><font color="#5a5a5a">;;type &quot;Bee &quot; type who type &quot; decided to land on plant ( &quot; type pxcor type &quot;, &quot; type pycor type &quot; ) of type: &quot; print flower-type</font><font color="#000000">
          harvest-flower
        ]
        [
          </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
          [
            </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; flew over but decided not to land on plant ( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; ) of type: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> flower-type
            </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
          ]
          
        ]
    ]
  ]
  
  </font><font color="#0000aa">if</font><font color="#000000">(plant? </font><font color="#660096">and</font><font color="#000000"> (start-harvest-time </font><font color="#660096">+</font><font color="#000000"> ticks-to-harvest) </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> harvesting?) </font><font color="#5a5a5a">;; time for the plant to stay on the plant for a certain number of ticks before moving off</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> harvesting? </font><font color="#963700">false</font><font color="#000000"> </font><font color="#5a5a5a">;; finished harvesting and can move off</font><font color="#000000">
    </font><font color="#0000aa">set</font><font color="#000000"> start-harvest-time </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; reset the time in which he started harvesting</font><font color="#000000">
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
    [
      </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;+ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; finished harvesting plant ( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; ). Moving off plant.&quot;</font><font color="#000000">
    ]
    </font><font color="#0000aa">fd</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
  ]
  
  </font><font color="#0000aa">if</font><font color="#000000">(</font><font color="#660096">not</font><font color="#000000"> harvesting?) </font><font color="#5a5a5a">;; otherwise, if the bee has finished harvesting (or hasn't harvested) keep flying around</font><font color="#000000">
  [
    </font><font color="#0000aa">right</font><font color="#000000"> </font><font color="#660096">random</font><font color="#000000"> </font><font color="#963700">360</font><font color="#000000"> </font><font color="#5a5a5a">;; randomly rotate between 0deg and 360deg</font><font color="#000000">
    </font><font color="#0000aa">forward</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; move forward 1 unit in that direction, simulates a more realistic movement</font><font color="#000000">
    </font><font color="#5a5a5a">;; *** CONSIDER ADDING VISION?</font><font color="#000000">
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> harvest-flower </font><font color="#5a5a5a">;; method called in the context of turtles, from move-bees, for harvesting flower</font><font color="#000000">
  </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">count</font><font color="#000000"> </font><font color="#660096">turtles-here</font><font color="#000000"> </font><font color="#660096">&gt;</font><font color="#000000"> number-of-flowers </font><font color="#5a5a5a">;; if the number of bees on that plant is more than the number of flowers it has, do not harvest</font><font color="#000000">
  [
    </font><font color="#0000aa">set</font><font color="#000000"> full? </font><font color="#963700">true</font><font color="#000000">
  ]
  [
    harvesting-process</font><font color="#5a5a5a">;; otherwise, there is a free flower so run the procedure to harvest flowers</font><font color="#000000">
  ]
</font><font color="#007f69">end</font><font color="#000000">

</font><font color="#007f69">to</font><font color="#000000"> harvesting-process </font><font color="#5a5a5a">;; **** CONSIDER RENAMING **** Method for bee to attempt and extract the nutrient from the flower for all strategies</font><font color="#000000">
  </font><font color="#0000aa">set</font><font color="#000000"> full? </font><font color="#963700">false</font><font color="#000000">
  </font><font color="#0000aa">if</font><font color="#000000"> </font><font color="#660096">not</font><font color="#000000"> harvesting?
  [
    </font><font color="#0000aa">set</font><font color="#000000"> start-harvest-time </font><font color="#660096">ticks</font><font color="#000000"> </font><font color="#5a5a5a">;; set the time when the bee starts to harvest in order to make him stay there for some time</font><font color="#000000">
    
    </font><font color="#0000aa">if</font><font color="#000000"> debug-mode 
    [ 
      </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000">
      </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> strategy </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; landed on plant ( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> 
      </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; ) of type: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> flower-type </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; with reward chance of: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> reward-chance 
      </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;% at tick time: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> start-harvest-time </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;.&quot;</font><font color="#000000">
      </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Starting attempt of harvest..&quot;</font><font color="#000000">
    ]
    
    </font><font color="#0000aa">set</font><font color="#000000"> past-flowers </font><font color="#660096">fput</font><font color="#000000"> (</font><font color="#660096">list</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000">) past-flowers </font><font color="#5a5a5a">;; add the current flower position it is harvesting onto its list of previous flowers (append to start)</font><font color="#000000">
    
    </font><font color="#0000aa">if</font><font color="#000000"> flower-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;T1&quot;</font><font color="#000000"> </font><font color="#5a5a5a">;; if the plant the bee landed on is of type T1</font><font color="#000000">
    [
      </font><font color="#0000aa">let</font><font color="#000000"> chance </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#5a5a5a">;; generate a number to see if it can harvest it or not</font><font color="#000000">
      
      </font><font color="#0000aa">ifelse</font><font color="#000000"> chance </font><font color="#660096">&lt;</font><font color="#000000"> (reward-chance) </font><font color="#5a5a5a">;; create reward chance based off plant's reward %</font><font color="#000000">
      [
        </font><font color="#0000aa">set</font><font color="#000000"> current-nutrition current-nutrition </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; succeeess condition for t1. </font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> past-flowers-success-type </font><font color="#660096">fput</font><font color="#000000"> (flower-type) past-flowers-success-type </font><font color="#5a5a5a">;; save the type of flower onto its past success types (mainly for switch strategy)</font><font color="#000000">
        
        </font><font color="#0000aa">if</font><font color="#000000"> t1pref </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> t2pref </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; condition to prevent &gt;100% preference for t1 plant</font><font color="#000000">
        [
          </font><font color="#0000aa">ifelse</font><font color="#000000"> strategy </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;stay&quot;</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> t2pref </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">70</font><font color="#000000"> </font><font color="#5a5a5a">;; preventing change if bee is on stay strategy and hit the threshold</font><font color="#000000">
          [
            </font><font color="#0000aa">if</font><font color="#000000"> debug-mode 
              [ 
                </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> 
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; failed! No change in current nutrition, still: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> current-nutrition
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- T1 preference: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t1pref </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;% T2 preference: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t2pref </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;~~ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; is on strategy: Stay. Hard wired not to drop below 70%. Not changing preference...&quot;</font><font color="#000000">
              ]
          ]
          [
            </font><font color="#5a5a5a">;; otherwise, if its on a different strategy or not met the stay threshold continue</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> t1pref t1pref </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; increase T1 plant preference</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> t2pref t2pref </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; decrease T2 plant preference</font><font color="#000000">
            
            </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
            [ 
              </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; strategy: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> strategy </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; succeeded! Increase nutrition by 1, current nutrition: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> current-nutrition </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;.&quot;</font><font color="#000000"> 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Increase preference for T1 by 1%, now t1pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> (t1pref) 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;%, decrease preference for T2 by 1%, now t2pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> (t2pref) </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Adding to bee's past flowers: ( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; ).&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; past flowers: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> past-flowers 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Last 4 success types: &quot;</font><font color="#000000"> 
              
              </font><font color="#5a5a5a">;; print out the past 4 success types with appropriate length checking if there is less than 4</font><font color="#000000">
              </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> past-flowers-success-type </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              [
                </font><font color="#0000aa">type</font><font color="#000000"> past-flowers-success-type
              ]
              [
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">sublist</font><font color="#000000"> past-flowers-success-type </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              ]
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; Last 4 failure types: &quot;</font><font color="#000000">
              
              </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> past-flowers-failure-type </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              [
                </font><font color="#0000aa">print</font><font color="#000000"> past-flowers-failure-type
              ]
              [
                </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#660096">sublist</font><font color="#000000"> past-flowers-failure-type </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              ]
            ]
          ]
        ]
      ]
      [
        </font><font color="#5a5a5a">;; failure condition for t1</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> past-flowers-failure-type </font><font color="#660096">fput</font><font color="#000000"> (flower-type) past-flowers-failure-type </font><font color="#5a5a5a">;; append the failed flower type to the list of failures</font><font color="#000000">
        
        </font><font color="#0000aa">if</font><font color="#000000"> t1pref </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> t2pref </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#5a5a5a">;; condition to prevent negative preference</font><font color="#000000">
        [
          </font><font color="#0000aa">ifelse</font><font color="#000000"> strategy </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;stay&quot;</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> t1pref </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">70</font><font color="#000000"> </font><font color="#5a5a5a">;; threshold measure for bees on strategy stay</font><font color="#000000">
          [
            </font><font color="#0000aa">if</font><font color="#000000"> debug-mode 
              [ 
                </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> 
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; failed! No change in current nutrition, still: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> current-nutrition
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- T1 preference: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t1pref </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;% T2 preference: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t2pref </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;~~ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; is on strategy: Stay. Hard wired not to drop below 70%. Not changing preference...&quot;</font><font color="#000000">
              ]
          ]
          [
            </font><font color="#0000aa">set</font><font color="#000000"> t1pref t1pref </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; decrease preference for t1               </font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> t2pref t2pref </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; increase preference for t2</font><font color="#000000">
            
            </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
            [ 
              </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; failed! No change in current nutrition, still: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> current-nutrition
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Increase preference for T2 by 1%, now t2pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> (t2pref) 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;%, decrease preference for T1 by 1%, now t1pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> (t1pref) </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Adding to bee's past flowers: ( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; ).&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; past flowers: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> past-flowers 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Last 4 success types: &quot;</font><font color="#000000"> 
              </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> past-flowers-success-type </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              [
                </font><font color="#0000aa">type</font><font color="#000000"> past-flowers-success-type
              ]
              [
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">sublist</font><font color="#000000"> past-flowers-success-type </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              ]
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; Last 4 failure types: &quot;</font><font color="#000000"> 
              </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> past-flowers-failure-type </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              [
                </font><font color="#0000aa">print</font><font color="#000000"> past-flowers-failure-type
              ]
              [
                </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#660096">sublist</font><font color="#000000"> past-flowers-failure-type </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              ]
            ]
          ]
        ] 
      ]
    ]
    
    
    </font><font color="#0000aa">if</font><font color="#000000"> flower-type </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;T2&quot;</font><font color="#000000"> </font><font color="#5a5a5a">;; if the bee lands on flower type t2, for further comments on bits of this code, look at the comments above for t1, same applies</font><font color="#000000">
    [
      </font><font color="#0000aa">let</font><font color="#000000"> chance </font><font color="#660096">random-float</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000">
      
      </font><font color="#0000aa">ifelse</font><font color="#000000"> chance </font><font color="#660096">&lt;</font><font color="#000000"> (reward-chance) </font><font color="#5a5a5a">;; create reward chance based off plant's reward chance %</font><font color="#000000">
      [
        </font><font color="#0000aa">set</font><font color="#000000"> current-nutrition current-nutrition </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> </font><font color="#5a5a5a">;; success condition for t2</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> past-flowers-success-type </font><font color="#660096">fput</font><font color="#000000"> (flower-type) past-flowers-success-type
        
        </font><font color="#0000aa">if</font><font color="#000000"> t2pref </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> t1pref </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#5a5a5a">;; condition to prevent &gt; 100% preference</font><font color="#000000">
        [
          </font><font color="#0000aa">ifelse</font><font color="#000000"> strategy </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;stay&quot;</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> t1pref </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">70</font><font color="#000000">
          [
            </font><font color="#0000aa">if</font><font color="#000000"> debug-mode 
            [ 
              </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; failed! No change in current nutrition, still: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> current-nutrition
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- T1 preference: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t1pref </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;% T2 preference: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t2pref </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;~~ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; is on strategy: Stay. Hard wired not to drop below 70%. Not changing preference...&quot;</font><font color="#000000">
            ]
          ]
          [
            </font><font color="#0000aa">set</font><font color="#000000"> t2pref t2pref </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> t1pref t1pref </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
            
            </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
            [ 
              </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; succeeded! Increase nutrition by 1, current nutrition: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> current-nutrition </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;.&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Increase preference for T2 by 1%, now t2pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> (t2pref) 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;%, decrease preference for T1 by 1%, now t1pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> (t1pref) </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Adding to bee's past flowers: ( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; ).&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; past flowers: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> past-flowers 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Last 4 success types: &quot;</font><font color="#000000"> 
              </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> past-flowers-success-type </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              [
                </font><font color="#0000aa">type</font><font color="#000000"> past-flowers-success-type
              ]
              [
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">sublist</font><font color="#000000"> past-flowers-success-type </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000"> 
              ]
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; Last 4 failure types: &quot;</font><font color="#000000"> 
              </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> past-flowers-failure-type </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              [
                </font><font color="#0000aa">print</font><font color="#000000"> past-flowers-failure-type
              ]
              [
                </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#660096">sublist</font><font color="#000000"> past-flowers-failure-type </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              ]
            ]
          ]
        ]
      ]
      [
        </font><font color="#5a5a5a">;; failure condition for t2</font><font color="#000000">
        </font><font color="#0000aa">set</font><font color="#000000"> past-flowers-failure-type </font><font color="#660096">fput</font><font color="#000000"> (flower-type) past-flowers-failure-type
        
        </font><font color="#0000aa">if</font><font color="#000000"> t2pref </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> t1pref </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">100</font><font color="#000000">
        [
          </font><font color="#0000aa">ifelse</font><font color="#000000"> strategy </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">&quot;stay&quot;</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> t2pref </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">70</font><font color="#000000">
          [
            </font><font color="#0000aa">if</font><font color="#000000"> debug-mode 
              [ 
                </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000"> 
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; failed! No change in current nutrition, still: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> current-nutrition
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- T1 preference: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t1pref </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;% T2 preference: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> t2pref </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;~~ Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; is on strategy: Stay. Hard wired not to drop below 70%. Not changing preference...&quot;</font><font color="#000000">
              ]
          ]
          [
            </font><font color="#0000aa">set</font><font color="#000000"> t2pref t2pref </font><font color="#660096">-</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
            </font><font color="#0000aa">set</font><font color="#000000"> t1pref t1pref </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">
            
            </font><font color="#0000aa">if</font><font color="#000000"> debug-mode
            [ 
              </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; failed! No change in current nutrition, still: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> current-nutrition
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Increase preference for T1 by 1%, now t1pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> (t1pref) 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;%, decrease preference for T2 by 1%, now t2pref: &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> (t2pref) </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot;%.&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Adding to bee's past flowers: ( &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pxcor</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;, &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">pycor</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#963700">&quot; ).&quot;</font><font color="#000000">
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Bee &quot;</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">who</font><font color="#000000"> </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; past flowers: &quot;</font><font color="#000000"> </font><font color="#0000aa">print</font><font color="#000000"> past-flowers 
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot;-- Last 4 success types: &quot;</font><font color="#000000"> 
              </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> past-flowers-success-type </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              [
                </font><font color="#0000aa">type</font><font color="#000000"> past-flowers-success-type
              ]
              [
                </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#660096">sublist</font><font color="#000000"> past-flowers-success-type </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              ]
              </font><font color="#0000aa">type</font><font color="#000000"> </font><font color="#963700">&quot; Last 4 failure types: &quot;</font><font color="#000000"> 
              </font><font color="#0000aa">ifelse</font><font color="#000000"> </font><font color="#660096">length</font><font color="#000000"> past-flowers-failure-type </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              [
                </font><font color="#0000aa">print</font><font color="#000000"> past-flowers-failure-type
              ]
              [
                </font><font color="#0000aa">print</font><font color="#000000"> </font><font color="#660096">sublist</font><font color="#000000"> past-flowers-failure-type </font><font color="#963700">0</font><font color="#000000"> </font><font color="#963700">4</font><font color="#000000">
              ]
            ]
          ]
        ] 
      ]
    ]
    </font><font color="#0000aa">set</font><font color="#000000"> harvesting? </font><font color="#963700">true</font><font color="#000000">
  ]   
</font><font color="#007f69">end</font>
</pre>

</body>
</html>
